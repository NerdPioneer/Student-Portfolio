@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth scrolling for all browsers */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */
}

/* Ensure smooth scrolling works on mobile */
@media (max-width: 1023px) {
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
  
  body {
    scroll-behavior: smooth;
  }
}

/* Custom Components - Optimized for Performance */
@layer components {
  /* Enhanced Navbar Responsiveness */
  .desktop-nav {
    @apply fixed w-full top-0 z-50 transition-all duration-300 bg-black shadow-lg;
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    background-color: rgba(0, 0, 0, 0.95) !important;
    will-change: transform, background-color;
  }
  
  /* Responsive Navigation Menu - Enhanced Mobile Support */
  .nav-menu {
    @apply lg:hidden overflow-hidden transition-all duration-300 ease-in-out;
    max-height: 0;
    opacity: 0;
    transform: translateY(-10px);
  }
  
  .nav-menu.open {
    max-height: 500px;
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Mobile Menu Button - Enhanced Touch Support */
  .nav-toggle {
    @apply lg:hidden p-2 border border-gray-600 rounded-lg bg-black hover:bg-gray-900 transition-colors duration-200;
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
    min-height: 44px; /* iOS touch target minimum */
    min-width: 44px;
  }
  
  /* Hamburger Animation - Improved Mobile Performance */
  .hamburger-line {
    @apply block w-full h-0.5 bg-white transition-all duration-300;
    transform-origin: center;
    will-change: transform, opacity;
  }
  
  /* Navigation Links */
  .nav-link {
    @apply transition-all duration-300 font-montserrat font-medium uppercase tracking-wider;
  }
  
  .nav-link:hover {
    @apply text-gray-300;
  }
  
  .nav-link.active {
    @apply text-gray-300 bg-gray-800;
  }
  
  /* Responsive breakpoints for nav - Enhanced Mobile Support */
  @media (max-width: 1023px) {
    .nav-links {
      @apply hidden;
    }
    
    .nav-toggle {
      @apply flex items-center justify-center;
    }
    
    /* Ensure mobile menu is properly positioned */
    .nav-menu {
      position: relative;
      z-index: 1000;
      background-color: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    
    /* Mobile menu links styling */
    .nav-menu .nav-link {
      @apply block px-4 py-3 text-white hover:text-gray-300 hover:bg-gray-800 transition duration-300 rounded-lg font-montserrat font-medium uppercase tracking-wider text-sm;
      min-height: 44px; /* iOS touch target minimum */
      display: flex;
      align-items: center;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Ensure smooth scrolling works on mobile */
    .nav-menu .nav-link:active {
      background-color: rgba(55, 65, 81, 0.8);
    }
  }
  
  @media (min-width: 1024px) {
    .nav-menu {
      @apply hidden;
    }
    
    .nav-toggle {
      @apply hidden;
    }
  }

  /* Floating Icons Animation - Orbital Movement */
  .floating-icon {
    animation: orbit 15s linear infinite;
    transform-origin: center;
  }
  
  @keyframes orbit {
    0% {
      transform: translate(0, 0) rotate(0deg);
    }
    25% {
      transform: translate(30px, -20px) rotate(90deg);
    }
    50% {
      transform: translate(0, -40px) rotate(180deg);
    }
    75% {
      transform: translate(-30px, -20px) rotate(270deg);
    }
    100% {
      transform: translate(0, 0) rotate(360deg);
    }
  }
  
  /* Different orbital patterns for variety */
  .floating-icon:nth-child(2n) {
    animation: orbitReverse 20s linear infinite;
  }
  
  .floating-icon:nth-child(3n) {
    animation: orbitWide 18s linear infinite;
  }
  
  .floating-icon:nth-child(4n) {
    animation: orbitTight 12s linear infinite;
  }
  
  @keyframes orbitReverse {
    0% {
      transform: translate(0, 0) rotate(0deg);
    }
    25% {
      transform: translate(-25px, 15px) rotate(-90deg);
    }
    50% {
      transform: translate(0, 30px) rotate(-180deg);
    }
    75% {
      transform: translate(25px, 15px) rotate(-270deg);
    }
    100% {
      transform: translate(0, 0) rotate(-360deg);
    }
  }
  
  @keyframes orbitWide {
    0% {
      transform: translate(0, 0) rotate(0deg) scale(0.8);
    }
    25% {
      transform: translate(40px, -30px) rotate(90deg) scale(1.1);
    }
    50% {
      transform: translate(0, -60px) rotate(180deg) scale(0.9);
    }
    75% {
      transform: translate(-40px, -30px) rotate(270deg) scale(1.0);
    }
    100% {
      transform: translate(0, 0) rotate(360deg) scale(0.8);
    }
  }
  
  @keyframes orbitTight {
    0% {
      transform: translate(0, 0) rotate(0deg) scale(1);
    }
    25% {
      transform: translate(15px, -10px) rotate(90deg) scale(1.2);
    }
    50% {
      transform: translate(0, -20px) rotate(180deg) scale(1);
    }
    75% {
      transform: translate(-15px, -10px) rotate(270deg) scale(0.9);
    }
    100% {
      transform: translate(0, 0) rotate(360deg) scale(1);
    }
  }
  
  /* Responsive floating icons - even smaller on mobile */
  @media (max-width: 768px) {
    .floating-icon {
      font-size: 0.6em !important;
      opacity: 0.08 !important;
    }
    
    .floating-icons {
      overflow: hidden;
    }
    
    /* Reduce orbital movement on mobile */
    @keyframes orbit {
      0% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(15px, -10px) rotate(90deg); }
      50% { transform: translate(0, -20px) rotate(180deg); }
      75% { transform: translate(-15px, -10px) rotate(270deg); }
      100% { transform: translate(0, 0) rotate(360deg); }
    }
  }

  /* Glitch Effect */
  .glitch-effect {
    position: relative;
    display: inline-block;
  }
  
  .glitch-effect[data-text]:before,
  .glitch-effect[data-text]:after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  .glitch-effect[data-text]:before {
    animation: glitch-anim-1 2s infinite linear alternate-reverse;
    color: #ff0040;
    z-index: -1;
  }
  
  .glitch-effect[data-text]:after {
    animation: glitch-anim-2 2s infinite linear alternate-reverse;
    color: #00ffff;
    z-index: -2;
  }
  
  /* Loading Overlay */
  .loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    transition: opacity 0.3s ease;
  }
  
  .loading-hidden {
    opacity: 0;
    pointer-events: none;
  }
  
  /* Carousel Styles */
  .carousel-slide {
    transition: opacity 0.8s ease-in-out, transform 0.3s ease;
  }
  
  .carousel-slide.active {
    opacity: 1;
    z-index: 2;
  }
  
  .carousel-slide:not(.active) {
    opacity: 0;
    z-index: 1;
  }
  
  .carousel-dot {
    transition: all 0.3s ease;
  }
  
  .carousel-dot.active {
    background-color: white !important;
    transform: scale(1.2);
  }
  
  /* Ensure carousel container is properly positioned */
  .carousel-container {
    position: relative;
    overflow: hidden;
  }
  
  .carousel-slides {
    position: relative;
    width: 100%;
    height: 100%;
  }
  
  /* Navigation Styles */
  .nav-toggle.active div {
    transform: rotate(45deg);
  }
  
  .nav-toggle.active div:before {
    transform: rotate(90deg);
    top: 0;
  }
  
  .nav-toggle.active div:after {
    transform: rotate(90deg);
    bottom: 0;
  }
  
  /* Section Transitions - All sections visible by default */
  .section {
    opacity: 1;
    transform: translateY(0);
    transition: all 0.8s ease;
  }
  
  .section.visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Card Hover Effects */
  .project-card,
  .education-card,
  .certification-card,
  .course-card,
  .notes-card {
    transition: all 0.3s ease;
  }

  /* Enhanced Notes Card Hover Effects */
  .notes-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
  }

  /* Site quote styling */
  .site-quote {
    position: relative;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  }

  .site-quote::before {
    content: '"';
    position: absolute;
    top: -8px;
    left: 16px;
    font-size: 3rem;
    color: #3b82f6;
    opacity: 0.3;
    font-family: serif;
  }
  
  .project-card:hover,
  .education-card:hover,
  .certification-card:hover,
  .course-card:hover {
    transform: translateY(-5px);
  }
  
  /* Button Animations */
  .hero-buttons a {
    transition: all 0.3s ease;
  }
  
  .hero-buttons a:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }
  
  /* Typewriter Effect */
  .typewriter {
    overflow: hidden;
    border-right: 2px solid;
    animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
  }
  
  /* Smooth Scrolling */
  html {
    scroll-behavior: smooth;
  }
  
  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: #f1f1f1;
  }
  
  ::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
}

/* Animations */
@layer utilities {
  @keyframes glitch-anim-1 {
    0% {
      clip: rect(64px, 9999px, 66px, 0);
      transform: skew(0.85deg);
    }
    5% {
      clip: rect(30px, 9999px, 36px, 0);
      transform: skew(0.02deg);
    }
    10% {
      clip: rect(70px, 9999px, 71px, 0);
      transform: skew(0.97deg);
    }
    15% {
      clip: rect(10px, 9999px, 40px, 0);
      transform: skew(0.45deg);
    }
    20% {
      clip: rect(40px, 9999px, 80px, 0);
      transform: skew(0.12deg);
    }
    25% {
      clip: rect(20px, 9999px, 30px, 0);
      transform: skew(0.87deg);
    }
    30% {
      clip: rect(80px, 9999px, 90px, 0);
      transform: skew(0.65deg);
    }
    35% {
      clip: rect(50px, 9999px, 55px, 0);
      transform: skew(0.23deg);
    }
    40% {
      clip: rect(25px, 9999px, 85px, 0);
      transform: skew(0.78deg);
    }
    45% {
      clip: rect(15px, 9999px, 45px, 0);
      transform: skew(0.34deg);
    }
    50% {
      clip: rect(75px, 9999px, 95px, 0);
      transform: skew(0.56deg);
    }
    55% {
      clip: rect(5px, 9999px, 25px, 0);
      transform: skew(0.89deg);
    }
    60% {
      clip: rect(60px, 9999px, 70px, 0);
      transform: skew(0.12deg);
    }
    65% {
      clip: rect(35px, 9999px, 65px, 0);
      transform: skew(0.67deg);
    }
    70% {
      clip: rect(85px, 9999px, 100px, 0);
      transform: skew(0.45deg);
    }
    75% {
      clip: rect(45px, 9999px, 75px, 0);
      transform: skew(0.23deg);
    }
    80% {
      clip: rect(55px, 9999px, 85px, 0);
      transform: skew(0.78deg);
    }
    85% {
      clip: rect(65px, 9999px, 95px, 0);
      transform: skew(0.34deg);
    }
    90% {
      clip: rect(75px, 9999px, 105px, 0);
      transform: skew(0.56deg);
    }
    95% {
      clip: rect(85px, 9999px, 115px, 0);
      transform: skew(0.89deg);
    }
    100% {
      clip: rect(95px, 9999px, 125px, 0);
      transform: skew(0.12deg);
    }
  }
  
  @keyframes glitch-anim-2 {
    0% {
      clip: rect(65px, 9999px, 119px, 0);
      transform: skew(0.41deg);
    }
    5% {
      clip: rect(25px, 9999px, 90px, 0);
      transform: skew(0.84deg);
    }
    10% {
      clip: rect(95px, 9999px, 100px, 0);
      transform: skew(0.25deg);
    }
    15% {
      clip: rect(35px, 9999px, 85px, 0);
      transform: skew(0.67deg);
    }
    20% {
      clip: rect(55px, 9999px, 115px, 0);
      transform: skew(0.13deg);
    }
    25% {
      clip: rect(15px, 9999px, 75px, 0);
      transform: skew(0.89deg);
    }
    30% {
      clip: rect(75px, 9999px, 105px, 0);
      transform: skew(0.46deg);
    }
    35% {
      clip: rect(45px, 9999px, 95px, 0);
      transform: skew(0.72deg);
    }
    40% {
      clip: rect(5px, 9999px, 65px, 0);
      transform: skew(0.28deg);
    }
    45% {
      clip: rect(85px, 9999px, 125px, 0);
      transform: skew(0.93deg);
    }
    50% {
      clip: rect(20px, 9999px, 80px, 0);
      transform: skew(0.52deg);
    }
    55% {
      clip: rect(70px, 9999px, 110px, 0);
      transform: skew(0.18deg);
    }
    60% {
      clip: rect(40px, 9999px, 100px, 0);
      transform: skew(0.76deg);
    }
    65% {
      clip: rect(10px, 9999px, 70px, 0);
      transform: skew(0.39deg);
    }
    70% {
      clip: rect(90px, 9999px, 130px, 0);
      transform: skew(0.84deg);
    }
    75% {
      clip: rect(30px, 9999px, 90px, 0);
      transform: skew(0.47deg);
    }
    80% {
      clip: rect(80px, 9999px, 120px, 0);
      transform: skew(0.21deg);
    }
    85% {
      clip: rect(50px, 9999px, 110px, 0);
      transform: skew(0.68deg);
    }
    90% {
      clip: rect(0px, 9999px, 60px, 0);
      transform: skew(0.95deg);
    }
    95% {
      clip: rect(100px, 9999px, 140px, 0);
      transform: skew(0.32deg);
    }
    100% {
      clip: rect(60px, 9999px, 120px, 0);
      transform: skew(0.58deg);
    }
  }
  
  @keyframes typing {
    from {
      width: 0;
    }
    to {
      width: 100%;
    }
  }
  
  @keyframes blink-caret {
    from,
    to {
      border-color: transparent;
    }
    50% {
      border-color: currentColor;
    }
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Education Section Improvements */
  progress {
    -webkit-appearance: none;
    appearance: none;
    background: #e5e7eb;
    border-radius: 9999px;
    overflow: hidden;
  }
  
  progress::-webkit-progress-bar {
    background: #e5e7eb;
    border-radius: 9999px;
  }
  
  progress::-webkit-progress-value {
    background: linear-gradient(to right, #3b82f6, #2563eb);
    border-radius: 9999px;
  }
  
  progress::-moz-progress-bar {
    background: linear-gradient(to right, #3b82f6, #2563eb);
    border-radius: 9999px;
  }
  
  /* Polished Skills Section - Segmented List Design */
  .skill-section-header {
    @apply flex items-center mb-4 relative;
  }
  
  .skill-section-icon {
    @apply w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0;
  }
  
  .skill-section-accent {
    @apply absolute left-0 bottom-0 w-12 h-0.5 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full;
    margin-left: 2.5rem; /* 40px (w-10) + 12px (mr-3) */
  }
  
  .skill-section-title {
    @apply text-sm font-semibold text-gray-900 uppercase tracking-wide;
  }
  
  .skill-segmented-list {
    @apply bg-gray-50 rounded-xl p-1 space-y-1;
  }
  
  .skill-segment {
    @apply flex items-center px-4 py-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer;
  }
  
  .skill-segment:hover {
    @apply transform scale-[1.02];
  }
  
  .skill-segment-icon {
    @apply w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0;
  }
  
  .skill-segment-text {
    @apply text-sm font-medium text-gray-900;
  }
  
  /* More Skills Details/Summary Styling */
  .more-skills-details {
    @apply w-full;
  }
  
  .more-skills-summary {
    @apply cursor-pointer list-none;
  }
  
  .more-skills-summary::-webkit-details-marker {
    display: none;
  }
  
  .more-skills-summary::-moz-list-bullet {
    list-style-type: none;
  }
  
  .more-skills-details[open] .skill-section-icon i {
    @apply transform rotate-45;
  }
  
  .more-skills-details[open] .skill-section-accent {
    @apply from-primary-600 to-primary-700;
  }
  
  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    .skill-segmented-list {
      @apply bg-gray-800;
    }
    
    .skill-segment {
      @apply bg-gray-900 border border-gray-700;
    }
    
    .skill-segment-text {
      @apply text-gray-100;
    }
    
    .skill-section-title {
      @apply text-gray-100;
    }
    
    .skill-section-icon {
      @apply bg-gray-800;
    }
  }
  
  /* New Skill Chips Design - Consistent Pills with Visual Hierarchy */
  .skill-chips-grid {
    @apply grid grid-cols-2 gap-3 mt-4;
  }
  
  .skill-chip {
    @apply inline-flex items-center px-4 py-3 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer;
  }
  
  .skill-chip:hover {
    @apply transform scale-105 shadow-sm;
  }
  
  .skill-chip i {
    @apply mr-2 text-base;
  }
  
  .skill-chip span {
    @apply font-medium;
  }
  
  /* Primary Skills - Standout Design */
  .skill-chip-primary {
    @apply bg-primary-50 text-primary-700 border border-primary-200 hover:bg-primary-100 hover:border-primary-300;
  }
  
  .skill-chip-primary i {
    @apply text-primary-600;
  }
  
  /* Python Special Accent - Soft Green */
  .skill-chip-python {
    @apply bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 hover:border-green-300;
  }
  
  .skill-chip-python i {
    @apply text-green-600;
  }
  
  /* Cloud Security Special Accent - Soft Purple */
  .skill-chip-security {
    @apply bg-purple-50 text-purple-700 border border-purple-200 hover:bg-purple-100 hover:border-purple-300;
  }
  
  .skill-chip-security i {
    @apply text-purple-600;
  }
  
  /* Secondary Skills - Muted Blue (Active, not Disabled) */
  .skill-chip-secondary {
    @apply bg-blue-50 text-blue-600 border border-blue-200 hover:bg-blue-100 hover:border-blue-300;
  }
  
  .skill-chip-secondary i {
    @apply text-blue-500;
  }
  
  /* AWS Special Highlight - Orange */
  .skill-chip-aws {
    @apply bg-orange-500 text-white border-orange-500 hover:bg-orange-600 hover:border-orange-600;
  }
  
  .skill-chip-aws i {
    @apply text-white;
  }
  
  /* Skill Section Spacing - Enhanced */
  .skill-section {
    @apply space-y-4 mb-8;
  }
  
  .skill-section-header {
    @apply flex items-center mb-6 relative;
  }
  
  .skill-section-icon {
    @apply w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0;
  }
  
  .skill-section-accent {
    @apply absolute left-0 bottom-0 w-16 h-1 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full;
    margin-left: 2.75rem; /* 44px (w-11) + 12px (mr-3) */
  }
  
  .skill-section-title {
    @apply text-base font-semibold text-gray-900 uppercase tracking-wide;
  }
  
  /* Supporting Skills Mobile Enhancement */
  .additional-skills {
    @apply mt-8;
  }
  
  .more-skills-details {
    @apply w-full;
  }
  
  .more-skills-summary {
    @apply cursor-pointer list-none p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors duration-200;
  }
  
  .more-skills-summary::-webkit-details-marker {
    display: none;
  }
  
  .more-skills-summary::-moz-list-bullet {
    list-style-type: none;
  }
  
  .more-skills-details[open] .skill-section-icon i {
    @apply transform rotate-45;
  }
  
  .more-skills-details[open] .skill-section-accent {
    @apply from-primary-600 to-primary-700;
  }
  
  /* Responsive adjustments */
  @media (max-width: 768px) {
    .skill-chips-grid {
      @apply grid-cols-1;
    }
    
    .skill-chip {
      @apply justify-center;
    }
    
    .skill-section {
      @apply mb-6;
    }
    
    .additional-skills {
      @apply mt-6;
    }
    
    .more-skills-summary {
      @apply p-3;
    }
  }
  
  /* Dark mode for new chips */
  @media (prefers-color-scheme: dark) {
    .skill-chip {
      @apply bg-gray-800 text-gray-200 border-gray-700 hover:bg-gray-700 hover:border-gray-600;
    }
    
    .skill-section-icon {
      @apply bg-gray-800;
    }
    
    .skill-section-title {
      @apply text-gray-100;
    }
  }
  
}
